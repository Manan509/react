<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Person / Student / Teacher - Demo</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      margin: 24px;
      background: #fafafa;
      color: #222;
    }
    .card {
      background: #fff;
      border: 1px solid #ddd;
      padding: 16px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.04);
      max-width: 800px;
    }
    h1 { margin-top: 0; }
    .row { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    label { font-size: 14px; }
    input, select, button {
      padding: 8px 10px;
      font-size: 14px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    button { cursor: pointer; }
    #instances { margin-top: 16px; }
    .instance {
      border: 1px dashed #ccc;
      padding: 10px;
      border-radius: 6px;
      margin-top: 8px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
    }
    .info { white-space: pre-wrap; font-family: monospace; }
    .small { font-size: 13px; color: #555; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Person → Student & Teacher (ES6 Classes)</h1>
    <p class="small">This demo shows inheritance, method overriding and how to create instances in the browser.</p>

    <!-- Controls -->
    <div style="margin-top:12px;">
      <div class="row" style="margin-bottom:8px;">
        <label for="sampleBtn">Quick examples:</label>
        <button id="createSampleStudent">Create sample Student</button>
        <button id="createSampleTeacher">Create sample Teacher</button>
        <button id="clearAll">Clear all</button>
      </div>

      <hr />

      <h3>Add custom instance</h3>
      <div class="row">
        <label>Type:
          <select id="typeSelect">
            <option value="student">Student</option>
            <option value="teacher">Teacher</option>
          </select>
        </label>

        <label>Name:
          <input id="nameInput" placeholder="e.g. Alice" />
        </label>

        <label>Age:
          <input id="ageInput" type="number" min="0" placeholder="20" style="width:80px" />
        </label>

        <label id="extraLabel">Course:
          <input id="extraInput" placeholder="e.g. Computer Science" />
        </label>

        <button id="createBtn">Create Instance</button>
      </div>

      <p class="small" style="margin-top:6px;">Click <strong>Show Info</strong> on any instance to run that object's <code>displayInfo()</code>.</p>

      <!-- Instance list -->
      <div id="instances"></div>
    </div>
  </div>

  <script>
    // ---- Classes ----
    class Person {
      constructor(name, age) {
        this.name = name;
        this.age = age;
      }
      displayInfo() {
        return `Name: ${this.name}, Age: ${this.age}`;
      }
    }

    class Student extends Person {
      constructor(name, age, course) {
        super(name, age);
        this.course = course;
      }
      // override
      displayInfo() {
        return `${super.displayInfo()}, Course: ${this.course}`;
      }
    }

    class Teacher extends Person {
      constructor(name, age, subject) {
        super(name, age);
        this.subject = subject;
      }
      // override
      displayInfo() {
        return `${super.displayInfo()}, Subject: ${this.subject}`;
      }
    }

    // ---- App state ----
    const instances = []; // will hold objects { id, type, obj }

    // ---- DOM refs ----
    const instancesDiv = document.getElementById('instances');
    const createSampleStudentBtn = document.getElementById('createSampleStudent');
    const createSampleTeacherBtn = document.getElementById('createSampleTeacher');
    const createBtn = document.getElementById('createBtn');
    const clearAllBtn = document.getElementById('clearAll');

    const typeSelect = document.getElementById('typeSelect');
    const nameInput = document.getElementById('nameInput');
    const ageInput = document.getElementById('ageInput');
    const extraLabel = document.getElementById('extraLabel');
    const extraInput = document.getElementById('extraInput');

    // Update extra field label based on selected type
    typeSelect.addEventListener('change', () => {
      if (typeSelect.value === 'student') {
        extraLabel.innerText = 'Course:';
        extraInput.placeholder = 'e.g. Computer Science';
      } else {
        extraLabel.innerText = 'Subject:';
        extraInput.placeholder = 'e.g. Mathematics';
      }
    });

    // Render function: shows instances
    function renderInstances() {
      instancesDiv.innerHTML = '';
      if (instances.length === 0) {
        instancesDiv.innerHTML = '<p class="small">No instances yet. Create one above or use the sample buttons.</p>';
        return;
      }

      instances.forEach((entry, idx) => {
        const wrapper = document.createElement('div');
        wrapper.className = 'instance';

        const left = document.createElement('div');
        left.innerHTML = `<strong>${entry.type.toUpperCase()}</strong> — <span class="small">${entry.obj.name}, age ${entry.obj.age}</span>`;
        const right = document.createElement('div');

        const showBtn = document.createElement('button');
        showBtn.textContent = 'Show Info';
        showBtn.addEventListener('click', () => {
          // call the object's displayInfo() and show result
          const info = entry.obj.displayInfo();
          alert(info);
        });

        const logSpan = document.createElement('span');
        logSpan.className = 'info';
        logSpan.style.margin = '0 10px';
        logSpan.textContent = ''; // blank initially

        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = 'Remove';
        deleteBtn.addEventListener('click', () => {
          instances.splice(idx, 1);
          renderInstances();
        });

        // Also a "Log to page" button that shows the output inline
        const inlineBtn = document.createElement('button');
        inlineBtn.textContent = 'Log';
        inlineBtn.style.marginLeft = '8px';
        inlineBtn.addEventListener('click', () => {
          logSpan.textContent = entry.obj.displayInfo();
        });

        right.appendChild(showBtn);
        right.appendChild(inlineBtn);
        right.appendChild(deleteBtn);
        wrapper.appendChild(left);
        wrapper.appendChild(right);
        wrapper.appendChild(logSpan);

        instancesDiv.appendChild(wrapper);
      });
    }

    // Helpers to create objects
    function addStudent(name, age, course) {
      const obj = new Student(name, age, course);
      instances.push({ id: Date.now() + Math.random(), type: 'student', obj });
      renderInstances();
    }
    function addTeacher(name, age, subject) {
      const obj = new Teacher(name, age, subject);
      instances.push({ id: Date.now() + Math.random(), type: 'teacher', obj });
      renderInstances();
    }

    // Sample buttons
    createSampleStudentBtn.addEventListener('click', () => {
      addStudent('Alice', 20, 'Computer Science');
    });
    createSampleTeacherBtn.addEventListener('click', () => {
      addTeacher('Mr. Smith', 45, 'Mathematics');
    });

    // Create from form
    createBtn.addEventListener('click', () => {
      const type = typeSelect.value;
      const name = nameInput.value.trim() || (type === 'student' ? 'New Student' : 'New Teacher');
      const age = parseInt(ageInput.value, 10) || 0;
      const extra = extraInput.value.trim() || (type === 'student' ? 'General Studies' : 'General Subject');

      if (type === 'student') addStudent(name, age, extra);
      else addTeacher(name, age, extra);

      // clear inputs
      nameInput.value = '';
      ageInput.value = '';
      extraInput.value = '';
    });

    clearAllBtn.addEventListener('click', () => {
      instances.length = 0;
      renderInstances();
    });

    // initial render
    renderInstances();
  </script>
</body>
</html>
